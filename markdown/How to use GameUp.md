# 概要
* GameUp.jsを利用できるようになる
* クソ仕様沢山あるけど許して
* 覚えてくれると開発が捗る
* 自由な実装が可能になる

分かりにくい所があれば、  
ハングアウトか何かで質問受けます。  

# 大まかな仕様
まずGameUpには2つのクラスが存在します。  
名称と説明を軽く書きます。

* **canvasEx**  
  メインクラス。描画とかを行う。  
  色々なメソッドが用意してある。  
  
* **sound**  
  audioをコントロールする。  
  正直必要ない。（けど必要でもある）
  
  重要なのはcanvasExの扱いなので、  
  重点的に説明していきます。  
  
# canvasEx の仕様  
イキナリですが、  
canvasExの使い方（基礎）です。  

canvasExを使用する際は、  
new インスタンスを使います。  
極普通のクラスを使う方法ですね。

(例)  
```
var obj = new canvasEx({...});
```  

さて、ここからが本題です。  
**仕様が面倒な上に、説明が下手**なので、  
分かりにくいかも知れません。  

---

## 本題  

まず canvasEx クラスは、  
cnvasExpert の省略です。  
canvas を高度に扱うという意味合いです。  

即ち、実装が面倒な動作も、  
canvasEx クラスを用いると、  
**比較的楽に実装できる**ということです。  

そして、何より重要なのが、  
canvasEx の引数はオブジェクトを使います。  

本来、関数の引数には、  
指定された位置に指定された引数があり、  
対応した値を代入して定義するものですが、  

canvasEx の様に、高度な設定を行う場合、  
可変長の引数である場合、順序が指定されていると、  
**非常に使いづらい物**になってしまいます。   

(例)  
```
var obj = new canvasEx(x,y,canvas,context,type,mode,...,something);
// 引数が増えるほど可読性が落ちる
```  

そのため、 canvasEx では引数を単一（input）し、  
値を**オブジェクト**として引き取っています。  
newインスタンスで生成されたcanvasExは、  
引数のオブジェクトをthisにコピーします。  

(例)  
```
var obj = new canvasEx({x: 0, y:0, type: img, ... something: null});
// 名前と紐付いて非常にわかりやすい
```  

## 実装
さて、本題で大体仕組みは理解できたと思います。  
ここから、更に深く掘り下げ、実装まで行きます。  

## 要素  
canvasEx を使う上で、必要な要素があります。  
以下の必要要素は、全てのtypeにおいて必須です。  

### 必要要素　　
* context  
→描画エリアのcontext

* x  
→描画する x 座標（絶対座標）  

* y  
→描画する y 座標（絶対座標）  

* type
→描画するモード   

また、以下は全てのtypeにおいて利用可能ですが、  
使わなくても動作する要素です。  

### 任意要素（無くても動作します）  
* canvas  
→描画エリアのcontextを保持するcanvasを格納  
 x座標あるいはy座標にcenterを用いた演算を利用する場合に、  
 必要になります。
 
 (例)  
 ```
 {canvas: canvasDOM, x: center + 10, y: center + -70 ... , something}
 // canvas を指定した状態では x,y において center が利用できます。
 // center は canvas から width,height を取得して 自動計算します。
 // x: center + 10 は canvas の 中心xから 10 正に増加させた位置で、
 // y: center + -70 は canvas の 中心yから 70 負に増減させた位置です。
 ```
* label
→生成したcanvasExにlabel情報を保持させます。  
 配列でも、単体の値でも可能です。  
 そのオブジェクトが何であるかの指標になります。  
 また保持させるlabelによって、様々な動作が可能です。  

これらが、必要最低限の要素です。  
加えて、各typeごとに、  
必要要素が加わります。  

## type

次に重要な要素 **type** についてです。  
**type** にはいくつかの種類があり、  
その中から一つ選んで追加します。  

種類は以下の通りです。  
* dot  
→点を描画する  

* pol  
→正多角形を描画する  

* pth  
→頂点座標を与え描画する  

* txt  
→文字を描画する  

* img  
→画像を描画する

夫々のタイプに必要な要素と、  
使い方の例をまとめます。  

**/** で区切られているものは、  
何方でもいいものです。  

## dot  
**dot** を利用する際の利用可能要素です。  

### 必要要素
* r / radius  
→点のサイズ（半径）を指定  

* color  
→点の色を指定  

### 任意要素（無くても動作します）
* mode  
→描画モードを **stroke** / **fill**  
 のいずれかを選択します。
 **mode** が未指定、あるいは、  
 値が**stokre**でも**fill**でもない場合は、  
 描画モードは**fill**になります。  
 
* bold  
→**mode**が**stroke**の時の線の太さ  
 
## pol  
**pol** を利用する際の利用可能要素です。  

### 必要要素  
* r / radius  
→図形のサイズ（半径）を指定  

* d / direction  
→図形の角度を指定（度）  

* v / vertex  
→図形の頂点数を指定（正v角形）  

* color  
→図形の色を指定  

### 任意要素（無くても動作します）
* mode  
→描画モードを **stroke** / **fill**  
 のいずれかを選択します。  
 
* bold  
→**mode**が**stroke**の時の線の太さ  

# pth  
**pth** を利用する際の利用可能要素です。  

### 必要要素  
* pos  
→配列で頂点座標を指定。  
 各要素にはx,yを保持するオブジェクトを格納。  
 また、座標はcanvasEx本体のx,yを中心とした、  
 相対座標で指定する。  
 スクリーン上の絶対座標ではないので注意。  
 
 (例)  
 ```
 pos: [{x: 10, y: 10}, {x: 10, y: -10}, {x: -10, y: -10}, {x: -10, y: 10}]
 // canvasEx中心座標 x,y からの相対座標で指定
 ```

* color  
→図形の色を指定  
